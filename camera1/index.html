<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>player</title>
  </head>
  <body style="margin: 0; padding: 0; font-size: 0;">
    <video width="100%" height="100%" id="video"></video>
    <canvas id="canvas"></canvas>
  </body>
  <!--<script src="./node_modules/file-saver/FileSaver.js"/>-->
  <!--<script src="./src/md5.js" type="text/javascript"></script>-->
  <script type="module">
    import Player from "./src/player.js";

    const options = {
      video: document.getElementById("video"),
      canvas: document.getElementById("canvas"),

      wsUrl: "ws://192.168.100.18:10080/camera_relay?tcpaddr=admin%3Aadmin%40192.168.100.222%3A8554%2Flive",
      rtspUrl: "rtsp://admin:admin@192.168.100.222:8554/live",
      user: "admin",
      pwd: "youwillsee!"
    };
    let player = new Player(options);
    player.init();
    player.on("error", function() {
      console.log("连接失败");
    });
    player.on("noStream", function() {
      console.log("noStream");
      player.close();
      player = null;
      player = new Player(options);
      player.init();
      player.connect();
    });

    player.on("canplay", function() {
      //player.close();
    });

    player.connect();
  </script>
</html>
